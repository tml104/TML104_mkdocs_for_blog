# 自增符号(++)和左右值

(CPP1)
(2022年1月25日)

https://blog.csdn.net/oyhb_1992/article/details/78168458

* i++ 是右值（不能被赋值，不能取地址）， ++i是左值（可以被赋值）

```c++
(++i) += i;

int *ip = &(++i)
```

## 自增运算符的实现

```c++
// 前缀形式：
int &  int ::operator++()  //这里返回的是一个引用形式，就是说函数返回值也可以作为一个左值使用
{ //函数本身无参，意味着是在自身空间内增加1的
   * this   += 1;   // 增加
   return   * this ;   // 取回值
}
```

```c++
//后缀形式:
const   int   int ::operator++( int )  //函数返回值是一个非左值型的，与前缀形式的差别所在。
{ //函数带参，说明有另外的空间开辟
   int   oldValue = * this ;   // 取回值
   ++(* this );   // 增加
   return   oldValue;   // 返回被取回的值，临时变量
}
```